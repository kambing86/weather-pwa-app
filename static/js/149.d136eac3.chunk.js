"use strict";(self.webpackChunkweather_pwa_app=self.webpackChunkweather_pwa_app||[]).push([[149],{149:(e,n,t)=>{t.r(n),t.d(n,{default:()=>re});var r=t(1906),a=t(9252),i=t(8903),s=t(4208),l=t(7392),c=t(5721),o=t(681),d=t(8968),u=t(8569),x=t(8136),h=t(6178),m=t.n(h),p=t(9456),A=t(3216),j=t(9482),g=t(579);const v=(0,x.A)((e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},list:{backgroundColor:e.palette.background.paper}}))),y=()=>{const e=v(),n=(0,p.d4)((e=>e.nutrition.history)),t=(0,p.wA)(),x=(0,A.Zp)();return(0,g.jsx)(a.A,{maxWidth:"lg",className:e.container,children:(0,g.jsx)(i.Ay,{container:!0,spacing:3,children:(0,g.jsxs)(i.Ay,{item:!0,xs:12,children:[(0,g.jsx)(r.A,{variant:"contained",sx:{marginBottom:"1rem"},href:"#/nutrition/result",children:"\u521b\u5efa\u65b0\u8bc4\u4f30"}),n.length>0&&(0,g.jsx)(c.A,{component:"nav",className:e.list,children:n.map(((e,n)=>(0,g.jsx)(o.Ay,{secondaryAction:(0,g.jsx)(l.A,{edge:"end","aria-label":"delete",onClick:()=>{window.confirm("\u4f60\u786e\u5b9a\u5220\u9664".concat(e.name,"\u7684\u8bb0\u5f55\u5417\uff1f"))&&t(j.A.actions.removeHistory(n))},children:(0,g.jsx)(s.A,{children:"delete"})}),children:(0,g.jsx)(d.A,{onClick:()=>{t(j.A.actions.loadHistory(n)),x("/nutrition/result/".concat(n))},children:(0,g.jsx)(u.A,{primary:e.name,secondary:m()(e.date).format("YYYY-MM-DD HH:mm:ss")})})},n)))})]})})})};var b=t(5043),w=t(6240),f=t(3336),C=t(1806),k=t(3460),N=t(9650),T=t(8076);const H=["Protein","VitaminA","VitaminB","VitaminC","LecithinE","Fibre","CalMagD","Probiotics","Garlic","Omega3","DoubleX"];var B=t(2574),D=t(7051),F=t(39);const I=e=>{const n=(0,w.A)();return(0,g.jsx)(F.A,(0,D.A)({sx:{border:"1px solid ".concat(n.palette.text.disabled)}},e))};var P=t(1962);const S=e=>{let{index:n}=e;const t=(0,w.A)(),r=(0,p.d4)((e=>{var t;return null===(t=e.nutrition.current)||void 0===t?void 0:t.answers.at(n)})),a=(0,p.wA)(),i=B.A.at(n);return null==i?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(I,{children:(0,g.jsx)(P.A,{checked:1===r,onChange:e=>{a(j.A.actions.setAnswer({index:n,value:e.target.checked}))}})}),(0,g.jsxs)(I,{children:[n+1," ",i.text]}),H.map((e=>{const n=i.supplements.includes(e),a=null!==r&&void 0!==r&&r;return(0,g.jsx)(I,{align:"center",style:{background:n?void 0:t.palette.action.disabledBackground},children:n&&a?"1":""},e)}))]})},V=(0,b.memo)(S);var W=t(961),Y=t(3193),_=t(4605),q=t(1292),E=t(6374),G=t(5260);const M=()=>{const e=(0,p.d4)((e=>{var n,t;return null!==(n=null===(t=e.nutrition.current)||void 0===t?void 0:t.gender)&&void 0!==n?n:""})),n=(0,p.wA)();return(0,g.jsxs)(Y.A,{children:[(0,g.jsx)(q.A,{id:"gender",children:"\u6027\u522b"}),(0,g.jsxs)(G.A,{"aria-labelledby":"gender",name:"radio-buttons-group",row:!0,value:e,children:[(0,g.jsx)(_.A,{value:"male",control:(0,g.jsx)(E.A,{onChange:e=>{n(j.A.actions.changeGender(e.target.value))}}),label:"\u7537"}),(0,g.jsx)(_.A,{value:"female",control:(0,g.jsx)(E.A,{onChange:e=>{n(j.A.actions.changeGender(e.target.value))}}),label:"\u5973"})]})]})},Z=(0,b.memo)(M),L=(0,x.A)((e=>({inputArea:{display:"flex",alignItems:"center",gap:e.spacing(2)}}))),O=()=>{const e=L(),n=(0,p.d4)((e=>{var n,t;return null!==(n=null===(t=e.nutrition.current)||void 0===t?void 0:t.name)&&void 0!==n?n:""})),t=(0,p.d4)((e=>{var n,t;return null!==(n=null===(t=e.nutrition.current)||void 0===t?void 0:t.age)&&void 0!==n?n:""})),a=(0,p.wA)(),[i,s]=(0,b.useState)(!1),l=(0,A.Zp)(),c=(0,A.g)();return(0,g.jsxs)("div",{className:e.inputArea,children:[(0,g.jsx)(W.A,{label:"\u540d\u5b57",variant:"outlined",value:n,required:!0,error:i,onChange:e=>{i&&s(!1),a(j.A.actions.changeName(e.target.value))},helperText:i?"\u8bf7\u8f93\u5165\u540d\u5b57":void 0}),(0,g.jsx)(W.A,{label:"\u5e74\u9f84",variant:"outlined",value:t,type:"number",InputProps:{inputProps:{min:0}},onChange:e=>{a(j.A.actions.changeAge(e.target.value))}}),(0,g.jsx)(Z,{}),(0,g.jsx)(r.A,{variant:"contained",onClick:()=>{var e;if(""===n)return void s(!0);l("/nutrition");const t=Number.parseInt(null!==(e=c["*"])&&void 0!==e?e:"");a(j.A.actions.saveToHistory(t))},children:"\u4fdd\u5b58"})]})},X=(0,b.memo)(O);var z=t(4882);const J=()=>(0,g.jsx)(z.A,{children:(0,g.jsxs)(T.A,{children:[(0,g.jsx)(I,{align:"center",children:"\u6253\u52fe"}),(0,g.jsx)(I,{style:{minWidth:"20rem"}}),H.map((e=>(0,g.jsx)(I,{style:{minWidth:"6rem"},align:"center",children:e},e)))]})}),K=(0,b.memo)(J),Q=()=>{const e=(0,p.d4)((e=>{var n;return null===(n=e.nutrition.current)||void 0===n?void 0:n.answers}));return null==e?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(I,{children:"\u603b\u5206"}),(0,g.jsx)(I,{children:"\u5982\u679c\u5408\u8ba1\u8d85\u8fc77\uff0c\u5efa\u8bae\u8865\u5145"}),H.map((n=>{const t=B.A.reduce(((t,r,a)=>{var i;const s=r.supplements.includes(n),l=null!==(i=e.at(a))&&void 0!==i&&i;return s&&l?t+1:t}),0);return(0,g.jsx)(I,{align:"center",children:t},n)}))]})},R=(0,b.memo)(Q),U=(0,x.A)((e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),flex:1},gridContainer:{height:"100%"},paper:{padding:e.spacing(2),display:"flex",flexDirection:"column",height:"100%"},tableContainer:{flex:"1 1 0",minHeight:200},table:{userSelect:"none"}}))),$=()=>{const e=U(),n=(0,w.A)();return(0,g.jsx)(a.A,{maxWidth:"xl",className:e.container,children:(0,g.jsx)(i.Ay,{container:!0,spacing:3,className:e.gridContainer,children:(0,g.jsx)(i.Ay,{item:!0,xs:12,children:(0,g.jsxs)(f.A,{elevation:2,className:e.paper,children:[(0,g.jsx)(X,{}),(0,g.jsx)(N.A,{component:f.A,className:e.tableContainer,children:(0,g.jsxs)(C.A,{className:e.table,children:[(0,g.jsx)(K,{}),(0,g.jsxs)(k.A,{children:[(0,g.jsx)(T.A,{children:(0,g.jsx)(I,{colSpan:2+H.length,style:{background:n.palette.text.secondary,color:n.palette.primary.contrastText},children:"\u8eab\u4f53\u72b6\u51b5\u8bc4\u8868"})}),B.A.map(((e,t)=>(0,g.jsxs)(b.Fragment,{children:[(0,g.jsx)(T.A,{children:(0,g.jsx)(V,{index:t})}),36===t&&(0,g.jsx)(T.A,{children:(0,g.jsx)(I,{colSpan:2+H.length,style:{background:n.palette.text.secondary,color:n.palette.primary.contrastText},children:"\u751f\u6d3b\u4e60\u60ef"})})]},t))),(0,g.jsx)(T.A,{children:(0,g.jsx)(R,{})}),(0,g.jsxs)(T.A,{children:[(0,g.jsx)(I,{}),(0,g.jsx)(I,{}),H.map((e=>(0,g.jsx)(I,{align:"center",children:e},e)))]})]})]})})]})})})})},ee=(0,b.memo)($),ne=()=>{var e;const n=(0,p.d4)((e=>e.nutrition.ready)),t=(0,p.d4)((e=>e.nutrition.current)),r=(0,p.wA)(),a=(0,A.g)(),i=Number.parseInt(null!==(e=a["*"])&&void 0!==e?e:"");return(0,b.useEffect)((()=>{n&&null==t&&r(j.A.actions.loadHistory(i))}),[n,t,i,r]),null==t?null:(0,g.jsx)(ee,{})};var te=t(7671);const re=()=>{const e=(0,p.wA)();return(0,b.useEffect)((()=>(e(te.Ay.actions.setTitle("Nutrition")),()=>{e(te.Ay.actions.removeTitle())})),[e]),(0,g.jsxs)(A.BV,{children:[(0,g.jsx)(A.qh,{path:"result/*",element:(0,g.jsx)(ne,{})}),(0,g.jsx)(A.qh,{index:!0,element:(0,g.jsx)(y,{})})]})}}}]);
//# sourceMappingURL=149.d136eac3.chunk.js.map